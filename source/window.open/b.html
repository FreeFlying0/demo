<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <input id="btnAdd" type="button" onclick="openWin();" value="点击弹出小窗口" />

    <input id="onSub" type="button" onclick="formSubmit();" value="点击传送数据到父页面，同时关闭当前小窗口">
    <a href="/a.html">小窗口新地址新页面</a>
<script>

function openWin() {
    window.open('win.html', '_blank','width=300,height=400,top=200,left=400');
}
//定义callback方法，用于回调
function callback(data) {
    console.log(data)
}



function formSubmit(){
    var data = {
        a: 111,
        name:'shenbao'
    };
    window.opener.callback(data);
    //上述执行完成后，调用打开页面的callback方法，
    //此处是调用主页面的callback方法
    window.close();//当前页面关闭

}


    </script>
</body>
</html>